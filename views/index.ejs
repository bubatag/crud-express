<%- include('partials/navbar.ejs') %>
<%- include('partials/header.ejs') %> 
</head>
<body>
  <div class="container">
    <!-- Cards do topo -->
    <div class="top-cards">
      <div class="card card1">
        <h2>Total de Animais</h2>
          <p><strong><%= totalAnimais %></strong></p>
      </div>
      <div class="card card2">
        <h2>Temperatura Média</h2>
          <p><strong><%= mediaTemperatura %> °C</strong></p>
      </div>
      <div class="card card3">
        <h2>Total de Coleiras</h2>
          <p><strong><%= totalColeiras %></strong></p>
      </div>
    </div>

    <div class="middle-section">
      <div class="left-graph">
        <canvas id="multiAxisChart" width="400"></canvas>
        <script>
          const ctx = document.getElementById('multiAxisChart');
        
          new Chart(ctx, {
            type: 'line',
            data: {
              labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
              datasets: [{
                label: 'Temperatura (°C)',
                data: [36.5, 37.0, 38.2, 36.9, 37.4, 36.7],
                yAxisID: 'y1',
                borderColor: 'rgb(255, 99, 132)',
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                tension: 0.3
              }, {
                label: 'Batimentos (bpm)',
                data: [70, 72, 74, 73, 75, 71],
                yAxisID: 'y2',
                borderColor: 'rgb(54, 162, 235)',
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                tension: 0.3
              }]
            },
            options: {
              responsive: true,
              interaction: {
                mode: 'index',
                intersect: false,
              },
              stacked: false,
              plugins: {
                title: {
                  display: true,
                  text: 'Temperatura x Batimentos'
                }
              },
              scales: {
                y1: {
                  type: 'linear',
                  position: 'left',
                  title: {
                    display: true,
                    text: 'Temperatura (°C)'
                  },
                },
                y2: {
                  type: 'linear',
                  position: 'right',
                  title: {
                    display: true,
                    text: 'Batimentos (bpm)'
                  },
                  grid: {
                    drawOnChartArea: false,
                  },
                }
              }
            }
          });
        </script>        
      </div>
      <div class="right-graph"></div>
    </div>
  </div>
<%- include('partials/footer.ejs') %>